(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[194],{62666:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign",function(){return i(66677)}])},66677:function(e,n,i){"use strict";i.r(n),i.d(n,{SignPageLayout:function(){return er},__N_SSP:function(){return es},default:function(){return el}});var s=i(85893),r=i(67294),l=i(8395),a=i(48641),t=i(47741),o=i(83234),d=i(20979),c=i(82175),u=i(11163),h=i(48946),m=i(80477),p=i(15281),x=i(15018),g=i(31766),j=i(14223),f=i(7297),w=i(51469),y=i(70917);function v(){let e=(0,f.Z)(["\n  0% {\n    transform: scale(1, 1);\n  }\n  25% {\n    transform: scale(1, 1.5);\n  }\n  50% {\n    transform: scale(1, 0.67);\n  }\n  75% {\n    transform: scale(1, 1);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n"]);return v=function(){return e},e}function b(){let e=(0,f.Z)(["\n 0% {\n    transform: scale(1, 1);\n  }\n  25% {\n    transform: scale(1, 1);\n  }\n  50% {\n    transform: scale(1, 1.5);\n  }\n  75% {\n    transform: scale(1, 1);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n"]);return b=function(){return e},e}function I(){let e=(0,f.Z)(["\n 0% {\n    transform: scale(1, 1);\n  }\n  25% {\n    transform: scale(1, 1);\n  }\n  50% {\n    transform: scale(1, 0.67);\n  }\n  75% {\n    transform: scale(1, 1.5);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n"]);return I=function(){return e},e}function S(){let e=(0,w.Tb)();return(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(a.xu,{style:E.dot1,animation:e?void 0:"".concat(_," infinite 1s linear"),bgColor:"gray.300",color:"white"}),(0,s.jsx)(a.xu,{style:E.dot2,animation:e?void 0:"".concat(C," infinite 1s linear"),bgColor:"gray.300",color:"white"}),(0,s.jsx)(a.xu,{style:E.dot3,animation:e?void 0:"".concat(q," infinite 1s linear"),bgColor:"gray.300",color:"white"})]})}let _=(0,y.F4)(v()),C=(0,y.F4)(b()),q=(0,y.F4)(I()),E={dot1:{position:"relative",width:"8px",height:"8px",borderRadius:"5px",display:" inline-block",margin:"0 2px"},dot2:{width:"8px",height:"8px",borderRadius:"5px",display:"inline-block",margin:"0 2px"},dot3:{width:"8px",height:"8px",borderRadius:"5px",display:"inline-block",margin:"0 2px"}},N=()=>{let e=(0,u.useRouter)(),n=(0,m.Ah)(),i=(0,p.O_)(),[l,f]=(0,r.useState)(!1),w=async(s,r)=>{f(!0);try{let{data:{auth_token:l,user:a}}=await h.Z.login(s),t=null==a?void 0:a.attributes,{is_admin:o,email:d}=t||{is_admin:"",email:""};if(n({type:"LOGIN",payload:{auth_token:l,email:d,is_admin:o}}),!t)return e.push(g.FG);i({type:"SET_USER",payload:{user_attributes:t}}),o?e.push(g.DM):t.is_profile_complete?e.push(g.qQ):e.push(g.Dh)}catch(c){}finally{r(!1),f(!1)}};return(0,s.jsxs)(a.xu,{children:[l&&(0,s.jsx)(j.Z,{left:"0",opacity:"0.5"}),(0,s.jsx)(c.J9,{enableReinitialize:!0,initialValues:x.UM,validateOnBlur:!0,validateOnChange:!0,validationSchema:x.Hv,onSubmit(e,n){let{setSubmitting:i}=n;w(e,i)},children(e){let{values:n,handleChange:i,handleSubmit:r,isSubmitting:l}=e;return(0,s.jsx)("form",{onSubmit:r,children:(0,s.jsxs)(a.Kq,{spacing:"6",children:[(0,s.jsxs)(a.Kq,{spacing:"5",children:[(0,s.jsx)(a.xu,{children:(0,s.jsx)(c.gN,{name:"login",width:"100%",children(e){let{field:r,form:l}=e;return(0,s.jsxs)(o.NI,{isInvalid:l.errors.login&&l.touched.login,children:[(0,s.jsx)(o.lX,{htmlFor:"login",children:"Username or Email"}),(0,s.jsx)(d.II,{...r,id:"login",placeholder:"Username or Email",value:n.login,onChange:i}),(0,s.jsx)(o.J1,{children:l.errors.login})]})}})}),(0,s.jsx)(a.xu,{children:(0,s.jsx)(c.gN,{name:"password",width:"100%",children(e){let{field:r,form:l}=e;return(0,s.jsxs)(o.NI,{isInvalid:l.errors.password&&l.touched.password,children:[(0,s.jsx)(o.lX,{htmlFor:"password",children:"Password"}),(0,s.jsx)(d.II,{...r,type:"password",id:"password",placeholder:"******",value:n.password,onChange:i}),(0,s.jsx)(o.J1,{children:l.errors.password})]})}})})]}),(0,s.jsx)(a.Kq,{spacing:"6",children:(0,s.jsx)(t.zx,{variant:"primary",type:"submit",disabled:l,isLoading:l,spinner:(0,s.jsx)(S,{}),rounded:"full",children:"Sign in"})})]})})}})]})};var O=i(93645),k=i.n(O),R=i(81872);let Z="1060699171691-iblni2q77pgbldocm5n755j763ksf6n2.apps.googleusercontent.com",F=!1,T=()=>{let[e,n]=(0,r.useState)(!1),l=(0,m.Ah)(),a=(0,p.O_)(),o=(0,u.useRouter)();(0,r.useEffect)(()=>{d()},[]),console.log("BUTTON_CLICKED Initial",F);let d=async()=>{let e=await i.e(6581).then(i.bind(i,36581)).then(e=>e.gapi);e.load("client:auth2",()=>{e.client.init({clientId:Z,scope:"profile"})})},c=e=>{if(F&&e.profileObj){let n={email:e.profileObj.email,externalId:e.profileObj.googleId,externalType:"google"};x(n)}F=!1},x=async e=>{n(!0);try{let{data:{auth_token:i,user:s,email:r,is_admin:t}}=await h.Z.login_with_google(e),d=s.attributes;if(l({type:"LOGIN",payload:{auth_token:i,email:r,is_admin:t}}),!d)return o.push(g.FG);a({type:"SET_USER",payload:{user_attributes:d}}),t?o.push(g.DM):d.is_profile_complete?o.push(g.qQ):o.push(g.Dh)}catch(c){console.log(c)}finally{n(!1)}},f=e=>{console.log("failed:",e)},w=e=>{e.onClick(),F=!0};return(0,s.jsxs)(s.Fragment,{children:[e?(0,s.jsx)(j.Z,{left:"0",opacity:"0.5"}):"",(0,s.jsx)(k(),{clientId:Z,buttonText:"Sign in with Google",onSuccess:c,onFailure:f,cookiePolicy:"single_host_origin",render:e=>(0,s.jsx)(t.zx,{leftIcon:(0,s.jsx)(R.JM8,{}),colorScheme:"gray",variant:"solid",rounded:"full",onClick:()=>w(e),disabled:e.disabled,children:"Sign In With Google"})})]})};var A=i(37918),U=i.n(A),z=i(88305),G=i(17491),K=i(59765),L=i(63750);let P=e=>{let{updateFormValues:n,isSignup:i}=e,[l,a]=(0,r.useState)(""),[o,d]=(0,r.useState)(!1),c=(0,m.Ah)(),x=(0,p.O_)(),j=(0,u.useRouter)(),f=e=>U().utils.isAddress(e),w=async()=>{d(!0);try{var e;let s=window.location.hostname,r="https://metamask.io/download.html",l=null==window?void 0:null===(e=window.ethereum)||void 0===e?void 0:e.isMetaMask;if(l){let t=await window.ethereum.request({method:"eth_requestAccounts"}),o=U().utils.toChecksumAddress(t[0]);f(o)?(i?n({email:"",externalId:"",externalType:"web3",walletAddress:o}):y({walletAddress:o,externalType:"web3"}),a(o)):(console.log("Invalid address"),(0,z.C)("Invalid Address",z.N.ERROR))}else if((0,G.Z)()){let c=(0,K.Z)(r);c.openURL("https://metamask.app.link/dapp/".concat(s))}else window.open(r)}catch(u){console.log(u)}d(!1)},y=async e=>{d(!0);try{let{data:{auth_token:n,user:i,email:s,is_admin:r}}=await h.Z.login_with_wallet(e),l=i.attributes;if(c({type:"LOGIN",payload:{auth_token:n,email:s,is_admin:r}}),!l)return j.push(g.FG);x({type:"SET_USER",payload:{user_attributes:l}}),r?j.push(g.DM):l.is_profile_complete?j.push(g.qQ):j.push(g.Dh)}catch(a){console.log(a)}finally{d(!1)}};return(0,s.jsx)(t.zx,{leftIcon:(0,s.jsx)(L.hG7,{}),colorScheme:"gray",variant:"solid",rounded:"full",onClick:w,children:"Connect With A Wallet"})},J=e=>{let{changeFormType:n}=e,i=e=>{n(e)};return(0,s.jsxs)(a.xu,{w:{base:"full",sm:"sm"},children:[(0,s.jsx)(N,{}),(0,s.jsxs)(a.Kq,{spacing:4,children:[(0,s.jsx)(a.Ug,{justify:"space-between",pt:4,children:(0,s.jsx)(t.zx,{variant:"link",colorScheme:"blue",size:"sm",onClick:()=>i(x.mE.FORGOT),children:"Forgot password?"})}),(0,s.jsxs)(a.Kq,{spacing:4,children:[(0,s.jsxs)(a.Ug,{children:[(0,s.jsx)(a.iz,{}),(0,s.jsx)(a.xv,{fontSize:"sm",whiteSpace:"nowrap",color:"muted",children:"or"}),(0,s.jsx)(a.iz,{})]}),(0,s.jsx)(P,{updateFormValues:{email:"",externalId:"",externalType:"",walletAddress:""},isSignup:!1}),(0,s.jsx)(T,{}),(0,s.jsxs)(a.Ug,{justify:"center",children:[(0,s.jsx)(a.xv,{color:"muted",children:"Don't have an account?"}),(0,s.jsx)(t.zx,{variant:"link",colorScheme:"blue",onClick:()=>i(x.mE.EMAIL_SIGNUP),children:"Sign up"})]})]})]})]})},M="1060699171691-iblni2q77pgbldocm5n755j763ksf6n2.apps.googleusercontent.com",W=!1,X=e=>{let{updateFormValues:n}=e,[l,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o()},[]),console.log("BUTTON_CLICKED Initial",W);let o=async()=>{let e=await i.e(6581).then(i.bind(i,36581)).then(e=>e.gapi);e.load("client:auth2",()=>{e.client.init({clientId:M,scope:"profile"})})},d=e=>{W&&e.profileObj&&u(e.profileObj.email).then(i=>{i&&n({email:e.profileObj.email,externalId:e.profileObj.googleId,externalType:"google",walletAddress:""})}).catch(e=>console.log(e)),W=!1},c=e=>{console.log("failed:",e)},u=async e=>{a(!0);let n=!1;try{var i,s;let r=await h.Z.emailExists("email=".concat(e));r.data&&(null===(i=r.data)||void 0===i?void 0:i.is_valid)&&(n=null===(s=r.data)||void 0===s?void 0:s.is_valid)}catch(l){}finally{a(!1)}return n},m=e=>{e.onClick(),W=!0};return(0,s.jsxs)(s.Fragment,{children:[l?(0,s.jsx)(j.Z,{left:"0",opacity:"0.5"}):"",(0,s.jsx)(k(),{clientId:M,buttonText:"Sign in with Google",onSuccess:d,onFailure:c,cookiePolicy:"single_host_origin",render:e=>(0,s.jsx)(t.zx,{leftIcon:(0,s.jsx)(R.JM8,{}),colorScheme:"gray",variant:"solid",rounded:"full",onClick:()=>m(e),disabled:e.disabled,children:"Sign Up With Google"})})]})},D=e=>{let{changeMainFormType:n,updateInitialSignupValues:i,handleSignupFormType:r,updateEmail:l}=e,u=e=>{n(e)},m=async(e,n)=>{try{var i;let s=await h.Z.emailExists("email=".concat(e.email));s.data&&(null===(i=s.data)||void 0===i?void 0:i.is_valid)&&(l(e.email),r(x.mE.SIGNUP))}catch(a){}finally{n(!1)}};return(0,s.jsxs)(a.xu,{w:{base:"full",sm:"sm"},children:[(0,s.jsx)(c.J9,{enableReinitialize:!0,initialValues:x.Gz,validateOnBlur:!0,validateOnChange:!0,validationSchema:x.sm,onSubmit(e,n){let{setSubmitting:i}=n;m(e,i)},children(e){let{values:n,handleChange:i,handleSubmit:r,isSubmitting:l}=e;return(0,s.jsx)("form",{onSubmit:r,children:(0,s.jsxs)(a.Kq,{spacing:4,children:[(0,s.jsx)(a.Kq,{spacing:"5",children:(0,s.jsx)(a.xu,{children:(0,s.jsx)(c.gN,{name:"email",width:"100%",children(e){let{field:r,form:l}=e;return(0,s.jsxs)(o.NI,{isInvalid:l.errors.email&&l.touched.email,children:[(0,s.jsxs)(o.lX,{htmlFor:"email",children:["Email Address"," ",(0,s.jsx)(a.xv,{as:"span",color:"red.500",children:"*"})]}),(0,s.jsx)(d.II,{...r,id:"email",placeholder:"Email",value:n.email,onChange:i}),(0,s.jsx)(o.J1,{children:l.errors.email})]})}})})}),(0,s.jsx)(a.Kq,{spacing:10,pt:2,children:(0,s.jsx)(t.zx,{variant:"primary",rounded:"full",type:"submit",disabled:l,isLoading:l,children:"Sign Up with Email"})})]})})}}),(0,s.jsx)(a.Kq,{spacing:4,pt:4,children:(0,s.jsxs)(a.Kq,{spacing:4,children:[(0,s.jsxs)(a.Ug,{children:[(0,s.jsx)(a.iz,{}),(0,s.jsx)(a.xv,{fontSize:"sm",whiteSpace:"nowrap",color:"muted",children:"or"}),(0,s.jsx)(a.iz,{})]}),(0,s.jsx)(P,{updateFormValues:i,isSignup:!0}),(0,s.jsx)(X,{updateFormValues:i}),(0,s.jsxs)(a.Ug,{justify:"center",children:[(0,s.jsx)(a.xv,{color:"muted",children:"Already a user?"}),(0,s.jsx)(t.zx,{variant:"link",colorScheme:"blue",onClick:()=>u(x.mE.LOGIN),children:"Login"})]})]})})]})};var V=i(39653),B=i(9135),H=i(48409);let Y=e=>{let{changeMainFormType:n,handleSignupFormType:i,initialSignupValues:l}=e,[g,f]=(0,r.useState)(!1);(0,m.Ah)(),(0,p.O_)(),(0,u.useRouter)();let{isOpen:w,onOpen:y,onClose:v}=(0,V.qY)(),b=e=>{n(e)},I=async(e,n,i)=>{f(!0);try{let{data:{auth_token:s,user:r,is_confirmed:l,email_sent:a}}=await h.Z.signup(e);(l||a)&&(i(),b(x.mE.LOGIN))}catch(t){}finally{n(!1),f(!1)}};return(0,s.jsxs)(a.xu,{w:{base:"full",sm:"sm"},children:[g?(0,s.jsx)(j.Z,{left:"0",opacity:"0.5"}):"",w&&(0,s.jsx)(H.Z,{isOpen:w,onClose:v}),(0,s.jsx)(c.J9,{enableReinitialize:!0,initialValues:l,validateOnBlur:!0,validateOnChange:!0,validationSchema:x.uc,onSubmit(e,n){let{setSubmitting:i,resetForm:s}=n;I(e,i,s)},children(e){let{values:n,handleChange:i,handleSubmit:r,isSubmitting:u}=e;return(0,s.jsx)("form",{onSubmit:r,children:(0,s.jsxs)(a.Kq,{spacing:4,children:[(0,s.jsxs)(a.Kq,{spacing:"5",children:[(0,s.jsx)(a.xu,{children:(0,s.jsx)(c.gN,{name:"username",width:"100%",children(e){let{field:r,form:l}=e;return(0,s.jsxs)(o.NI,{isInvalid:l.errors.username&&l.touched.username,children:[(0,s.jsxs)(o.lX,{htmlFor:"username",children:["Username"," ",(0,s.jsx)(a.xv,{as:"span",color:"red.500",children:"*"})]}),(0,s.jsx)(d.II,{...r,id:"username",placeholder:"Username",value:n.username,onChange:i}),(0,s.jsx)(o.J1,{children:l.errors.username})]})}})}),(0,s.jsx)(a.xu,{children:(0,s.jsx)(c.gN,{name:"email",width:"100%",children(e){let{field:r,form:t}=e;return(0,s.jsxs)(o.NI,{isInvalid:t.errors.email&&t.touched.email,children:[(0,s.jsxs)(o.lX,{htmlFor:"email",children:["Email"," ",(0,s.jsx)(a.xv,{as:"span",color:"red.500",children:"*"})]}),(0,s.jsx)(d.II,{...r,id:"email",disabled:l.email,placeholder:"Email",value:n.email,onChange:i}),(0,s.jsx)(o.J1,{children:t.errors.email})]})}})}),(0,s.jsx)(a.xu,{children:(0,s.jsx)(c.gN,{name:"password",width:"100%",children(e){let{field:r,form:l}=e;return(0,s.jsxs)(o.NI,{isInvalid:l.errors.password&&l.touched.password,children:[(0,s.jsxs)(o.lX,{htmlFor:"password",children:["Password"," ",(0,s.jsx)(a.xv,{as:"span",color:"red.500",children:"*"})]}),(0,s.jsx)(d.II,{...r,id:"password",name:"password",placeholder:"******",type:"password",autoComplete:"current-password",value:n.password,onChange:i}),(0,s.jsx)(o.J1,{children:l.errors.password})]})}})}),(0,s.jsx)(a.xu,{children:(0,s.jsx)(c.gN,{name:"passwordConfirmation",width:"100%",children(e){let{field:r,form:l}=e;return(0,s.jsxs)(o.NI,{isInvalid:l.errors.passwordConfirmation&&l.touched.passwordConfirmation,children:[(0,s.jsxs)(o.lX,{htmlFor:"passwordConfirmation",children:["Confirm Password"," ",(0,s.jsx)(a.xv,{as:"span",color:"red.500",children:"*"})]}),(0,s.jsx)(d.II,{...r,id:"passwordConfirmation",name:"passwordConfirmation",placeholder:"******",type:"password",autoComplete:"current-password",value:n.passwordConfirmation,onChange:i}),(0,s.jsx)(o.J1,{children:l.errors.passwordConfirmation})]})}})}),(0,s.jsx)(a.Kq,{justify:"space-between",children:(0,s.jsx)(c.gN,{name:"termsAndConditions",width:"100%",children(e){let{field:r,form:l}=e;return(0,s.jsxs)(o.NI,{isInvalid:l.errors.termsAndConditions&&l.touched.termsAndConditions,children:[(0,s.jsxs)(a.Ug,{alignItems:"center",spacing:0,children:[(0,s.jsx)(B.XZ,{defaultChecked:!0,id:"termsAndConditions",isChecked:n.termsAndConditions,onChange:i,children:"Agree to our\xa0"}),(0,s.jsx)(t.zx,{variant:"link",colorScheme:"blue",size:"sm",fontWeight:"medium",width:"max-content",_hover:{textDecoration:"underline"},onClick:y,children:"Terms of use"})]}),(0,s.jsx)(o.J1,{children:l.errors.termsAndConditions})]})}})})]}),(0,s.jsx)(a.Kq,{spacing:10,pt:2,children:(0,s.jsx)(t.zx,{variant:"primary",rounded:"full",type:"submit",disabled:u,isLoading:u,spinner:(0,s.jsx)(S,{}),children:"Sign up"})})]})})}}),(0,s.jsx)(a.Kq,{spacing:4,pt:4,children:(0,s.jsx)(a.Kq,{spacing:4,children:(0,s.jsxs)(a.Ug,{justify:"center",children:[(0,s.jsx)(a.xv,{color:"muted",children:"Already a user?"}),(0,s.jsx)(t.zx,{variant:"link",colorScheme:"blue",onClick:()=>b(x.mE.LOGIN),children:"Login"})]})})})]})},Q=e=>{let{formType:n,changeFormType:i}=e,[l,t]=(0,r.useState)(""),[o,d]=(0,r.useState)(x.mE.EMAIL_SIGNUP),[c,u]=(0,r.useState)({username:"",email:l,externalId:"",externalType:"",walletAddress:"",password:"",passwordConfirmation:"",termsAndConditions:!0,receiveEmailUpdates:!0}),h=e=>{u({...c,...e}),m(x.mE.SIGNUP)},m=e=>{d(e)},p=e=>{t(e),u({...c,email:e})};return(0,s.jsx)(a.xu,{w:{base:"full",sm:"sm"},children:o===x.mE.SIGNUP?(0,s.jsx)(Y,{initialSignupValues:c,handleSignupFormType:m,changeMainFormType:i}):(0,s.jsx)(D,{updateEmail:p,updateInitialSignupValues:h,changeMainFormType:i,handleSignupFormType:m})})},$=e=>{let{changeFormType:n}=e,i=async(e,n,i)=>{try{await h.Z.forgotPassword(e),i()}catch(s){Promise.reject(s)}finally{n(!1)}};return(0,s.jsxs)(a.xu,{w:{base:"full",sm:"sm"},children:[(0,s.jsxs)(a.Kq,{pb:6,children:[(0,s.jsx)(a.X6,{lineHeight:1.1,fontSize:{base:"2xl",md:"3xl"},children:"Forgot your password?"}),(0,s.jsx)(a.xv,{fontSize:{base:"sm",sm:"md"},color:(0,l.ff)("gray.800","gray.400"),children:"You'll get an email with a reset link"})]}),(0,s.jsx)(c.J9,{initialValues:x.vs,validateOnBlur:!0,validateOnChange:!0,validationSchema:x.rI,onSubmit(e,n){let{setSubmitting:s,resetForm:r}=n;i(e,s,r)},children(e){let{values:i,handleChange:r,handleSubmit:l,isSubmitting:u}=e;return(0,s.jsx)("form",{onSubmit:l,children:(0,s.jsxs)(a.Kq,{spacing:"6",children:[(0,s.jsx)(a.Kq,{spacing:"5",children:(0,s.jsx)(a.xu,{children:(0,s.jsx)(c.gN,{name:"email",width:"100%",children(e){let{field:n,form:l}=e;return(0,s.jsxs)(o.NI,{isInvalid:l.errors.email&&l.touched.email,children:[(0,s.jsx)(d.II,{...n,id:"email",value:i.email,placeholder:"your-email@example.com",_placeholder:{color:"gray.500"},onChange:r}),(0,s.jsx)(o.J1,{children:l.errors.email})]})}})})}),(0,s.jsx)(a.Kq,{spacing:"6",children:(0,s.jsx)(t.zx,{bg:"blue.400",color:"white",_hover:{bg:"blue.500"},type:"submit",disabled:u,isLoading:u,children:"Request Reset"})}),(0,s.jsx)(a.Kq,{justify:"center",children:(0,s.jsx)(t.zx,{variant:"link",colorScheme:"blue",size:"sm",onClick:()=>n(x.mE.LOGIN),children:"Back to Sign in"})})]})})}})]})},ee=()=>{let[e,n]=(0,r.useState)(x.mE.LOGIN),i=(0,l.ff)("md","md-dark");(0,u.useRouter)().query.email_confirmed&&(0,z.C)("Email confirmed successfully");let t=e=>{n(e)},o=(0,r.useCallback)(()=>{switch(e){case x.mE.LOGIN:return(0,s.jsx)(J,{changeFormType:t});case x.mE.EMAIL_SIGNUP:return(0,s.jsx)(Q,{formType:e,changeFormType:t});case x.mE.FORGOT:return(0,s.jsx)($,{changeFormType:t})}},[e]);return(0,s.jsx)(a.Kq,{spacing:"8",justifyContent:"center",alignItems:"center",height:"full",px:{base:4,sm:0},children:(0,s.jsx)(a.xu,{py:8,px:{base:5,sm:10},bg:"bg-surface",boxShadow:i,borderRadius:"xl",width:"full",children:o()})})};var en=i(33622);let ei=()=>(0,s.jsx)(a.W2,{maxW:"lg",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:(0,s.jsx)(ee,{})});var es=!0;let er=e=>(0,s.jsx)(en.Z,{children:e});ei.getLayout=er;var el=ei},48946:function(e,n,i){"use strict";var s=i(70594);let r=e=>s.Z.post("/api/user/login",{user:e}),l=e=>{let{email:n,externalId:i,externalType:r}=e;return s.Z.post("/api/user/login_google",{user:{email:n,external_id:i,external_type:r}})},a=e=>{let{walletAddress:n,externalType:i}=e;return s.Z.post("/api/user/login_with_wallet",{user:{wallet_address:n,external_type:i}})},t=()=>s.Z.delete("api/user/logout"),o=()=>s.Z.get("/api/user/session",{withCredentials:!0}),d=e=>{let{username:n,email:i,walletAddress:r,externalId:l,externalType:a,password:t,passwordConfirmation:o,termsAndConditions:d,receiveEmailUpdates:c}=e;return s.Z.post("api/users",{user:{username:n,email:i,wallet_address:r,external_id:l,external_type:a,terms_of_service:d,email_updates:c,password:t,password_confirmation:o}})},c=e=>s.Z.put("/api/user/profile",u(e)),u=e=>{let{firstName:n,lastName:i,postalCode:s,walletAddress:r,termsAndConditions:l,receiveEmailUpdates:a,heardAboutUs:t,city:o,state:d,category:c,photo:u}=e;return{user:{first_name:n,last_name:i,wallet_address:r,terms_of_service:l,email_updates:a,heard_from:t,category:c,photo:u,address_attributes:{city:o,state:d,postal_code:s}}}},h=e=>{s.Z.post("/api/password/forgot",e)},m=e=>{s.Z.post("/api/password/reset",e)},p=e=>s.Z.get("/api/users/email_exist?".concat(e));n.Z={user_session:o,login:r,login_with_google:l,login_with_wallet:a,logout:t,signup:d,updateProfile:c,forgotPassword:h,resetPassword:m,emailExists:p}},33622:function(e,n,i){"use strict";i.d(n,{Z:function(){return _}});var s=i(85893),r=i(67294),l=i(63833),a=i(80477),t=i(15281),o=i(73436),d=i(83506),c=i(11163),u=i(31766),h=i(14223),m=i(48641),p=i(51469),x=i(39653),g=i(8395),j=i(47741),f=i(41664),w=i.n(f),y=i(35746),v=i(87712);let b=()=>{let{isLoggedIn:e}=(0,a.F_)(),{user:n}=(0,t.ec)(),{isOpen:i,onToggle:r,onClose:l}=((0,p.Sx)({base:!1,lg:!0}),(0,x.qY)()),o=(0,c.useRouter)();n&&n.is_admin?u.jP:u.lK;let{colorMode:d}=(0,g.If)();return(0,s.jsx)(m.xu,{as:"header",transition:"all 0.1s ease-in-out",bg:(0,g.ff)("white","gray.800"),px:4,boxShadow:(0,g.ff)("0 4px 6px rgba(160, 174, 192, 0.6)","0 4px 6px rgba(9, 17, 28, 0.9)"),position:"fixed",width:"100%",zIndex:"55",top:"0",children:(0,s.jsx)(m.W2,{maxW:"1450px",children:(0,s.jsxs)(m.kC,{height:"4.5rem",alignItems:"center",justifyContent:"space-between",mx:"auto",children:[(0,s.jsx)(m.Ug,{spacing:"4",children:(0,s.jsx)(w(),{href:u.a0,passHref:!0,children:(0,s.jsx)(m.Kq,{as:"a",spacing:3,direction:"row",alignItems:"center",children:"light"===d?(0,s.jsx)(y.f,{height:"8"}):(0,s.jsx)(v.J,{height:"8"})})})}),(0,s.jsx)(s.Fragment,{children:!e&&(0,s.jsx)(m.Ug,{spacing:"4",children:o.pathname!==u.FG?(0,s.jsx)(w(),{href:u.FG,passHref:!0,children:(0,s.jsx)(j.zx,{as:"a",cursor:"pointer",colorScheme:"blue",size:"md",rounded:"md",children:"Sign in"})}):(0,s.jsx)(j.zx,{as:"a",cursor:"pointer",colorScheme:"blue",size:"md",rounded:"md",onClick:()=>o.reload(),children:"Sign in"})})})]})})})};var I=function(e){let{children:n}=e;return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(b,{}),(0,s.jsx)(m.W2,{maxW:"1450px",mt:20,flex:"1 0 auto",py:8,children:n})]})};let S=e=>{let{children:n}=e,[i,u]=(0,r.useState)(!0),{isLoggedIn:m}=(0,a.F_)(),{user:p}=(0,t.ec)(),x=(0,t.O_)(),g=(0,a.Ah)(),j=(0,c.useRouter)(),f=j.pathname;return((0,r.useEffect)(()=>{(0,o.Y)().then(e=>{x({type:"SET_USER",payload:{user:null==e?void 0:e.user}}),(0,l.H1)(g),(0,l.w1)();let n=(0,d.fp)("authEmail"),i=!(null==e?void 0:e.user);i&&n&&(0,d.F$)(),u(!1)}).catch(e=>{console.log(e),u(!1)})},[g,x,f]),i)?(0,s.jsx)(h.Z,{left:"0",opacity:"0.5"}):(0,s.jsx)(I,{children:n})};var _=S},15018:function(e,n,i){"use strict";i.d(n,{F9:function(){return u},Gz:function(){return o},Hv:function(){return d},UM:function(){return l},fb:function(){return t},mE:function(){return r},rI:function(){return c},sm:function(){return m},uc:function(){return h},vs:function(){return a}});var s=i(74231);let r={LOGIN:"login",EMAIL_SIGNUP:"email_signup",SIGNUP:"signup",FORGOT:"forgot_password"},l={login:"",password:""},a={email:""},t={password:""},o={email:""},d=s.Ry().shape({login:s.Z_().required("Required"),password:s.Z_().min(6,"Too Short!").required("Required")}),c=s.Ry().shape({email:s.Z_().email("Invalid email address").required("Required")}),u=s.Ry().shape({password:s.Z_().min(6,"Too Short!").required("Required")}),h=s.Ry().shape({email:s.Z_().email("Invalid email address").required("Required"),username:s.Z_().required("Required"),password:s.Z_().min(6,"Too Short!").required("Required"),passwordConfirmation:s.Z_().min(6,"Too Short!").oneOf([s.iH("password")],"Passwords must match").required("Required"),termsAndConditions:s.O7().required("The terms and conditions must be accepted.").oneOf([!0],"The terms and conditions must be accepted.")}),m=s.Ry().shape({email:s.Z_().email("Invalid email address").required("Required")})}},function(e){e.O(0,[2013,8543,994,7155,1664,6784,4231,2802,9135,2175,7057,8497,3813,9774,2888,179],function(){return e(e.s=62666)}),_N_E=e.O()}]);